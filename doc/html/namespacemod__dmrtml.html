<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DMRTML: mod_dmrtml Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DMRTML</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Modules&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Module&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('namespacemod__dmrtml.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">mod_dmrtml Module Reference</div>  </div>
</div>
<div class="contents">

<p>Main entry point for the DMRT-ML model. Most users should use the subroutine <a class="el" href="namespacemod__dmrtml.html#a94e501354576e7f5a2356c0dc4dfa5c9">dmrtml</a>. This module includes subroutines to be called from Fortran as well as those exposed from Python (see dmrtml.py for the main python module)  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__dmrtml.html#a94e501354576e7f5a2356c0dc4dfa5c9">dmrtml</a> (frequency, l, n, depth, density, radius, temperature, TbV, TbH, mhu, tau, wetness, medium, dist, soilp, Tbatmodown, profileV, profileH)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the brightness temperatures (at H and V polarisations and for several angles) for a given frequency and layered medium.  <a href="#a94e501354576e7f5a2356c0dc4dfa5c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemod__dmrtml.html#a61888a6420e93081837312de600ae86f">albedobeta</a> (frequency, density, radius, temperature, albedo, beta, tau, wetness, medium, dist)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the extinction and the single scattering albedo.  <a href="#a61888a6420e93081837312de600ae86f"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Main entry point for the DMRT-ML model. Most users should use the subroutine <a class="el" href="namespacemod__dmrtml.html#a94e501354576e7f5a2356c0dc4dfa5c9">dmrtml</a>. This module includes subroutines to be called from Fortran as well as those exposed from Python (see dmrtml.py for the main python module) </p>
</div><hr/><h2>Function/Subroutine Documentation</h2>
<a class="anchor" id="a61888a6420e93081837312de600ae86f"></a><!-- doxytag: member="mod_dmrtml::albedobeta" ref="a61888a6420e93081837312de600ae86f" args="(frequency, density, radius, temperature, albedo, beta, tau, wetness, medium, dist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine mod_dmrtml::albedobeta </td>
          <td>(</td>
          <td class="paramtype">real*8,intent(in)&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,intent(in)&#160;</td>
          <td class="paramname"><em>density</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,intent(in)&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,intent(in)&#160;</td>
          <td class="paramname"><em>temperature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,intent(out)&#160;</td>
          <td class="paramname"><em>albedo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,intent(out)&#160;</td>
          <td class="paramname"><em>beta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,intent(in),optional&#160;</td>
          <td class="paramname"><em>tau</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,intent(in),optional&#160;</td>
          <td class="paramname"><em>wetness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character,intent(in),optional&#160;</td>
          <td class="paramname"><em>medium</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical,intent(in),optional&#160;</td>
          <td class="paramname"><em>dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute the extinction and the single scattering albedo. </p>
<p>This subroutine is a convenience routine that calls one of the subroutine in the <a class="el" href="namespacemod__dmrtparameters.html" title="Compute dense media radiative transfer parameters (extinction and single scattering albedo) under var...">mod_dmrtparameters</a> module and has a list of arguments similar to those in dmrtml. It is recommended to read the documentation of the <a class="el" href="namespacemod__dmrtparameters.html">mod_dmrtparameters</a> module</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">frequency</td><td>frequency in Hertz. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">density</td><td>density of Snow or bubbly Ice (in kg/m3). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">radius</td><td>radius (in meter) of grains (for Snow) or bubbles (for Ice). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">temperature</td><td>temperature (in Kelvin).</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">albedo</td><td>single scattering albedo. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">beta</td><td>exctinction coefficient, also written Ke in some books.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tau</td><td>stickiness. If not present, none-sticky calculation (tau=infinity). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wetness</td><td>fractional volume of water with respect to ice. Default is 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">medium</td><td>type of medium in each layer (valid value is S=Snow or I=ice with air bubbles). Default is Snow.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">distribution.</td><td>If set to False a mono-disperse distribution is used, this is the default. If set to True a poly-disperse distribution of particules is used: Radii are taken from a Rayleigh distribution. The radius parameter in input corresponds to the optical radius (equivalent S/V grain size). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a94e501354576e7f5a2356c0dc4dfa5c9"></a><!-- doxytag: member="mod_dmrtml::dmrtml" ref="a94e501354576e7f5a2356c0dc4dfa5c9" args="(frequency, l, n, depth, density, radius, temperature, TbV, TbH, mhu, tau, wetness, medium, dist, soilp, Tbatmodown, profileV, profileH)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine mod_dmrtml::dmrtml </td>
          <td>(</td>
          <td class="paramtype">real*8,intent(in)&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer,intent(in)&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer,intent(in)&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,dimension(l),intent(in)&#160;</td>
          <td class="paramname"><em>depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,dimension(l),intent(in)&#160;</td>
          <td class="paramname"><em>density</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,dimension(l),intent(in)&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,dimension(l),intent(in)&#160;</td>
          <td class="paramname"><em>temperature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,dimension(n),intent(out)&#160;</td>
          <td class="paramname"><em>TbV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,dimension(n),intent(out)&#160;</td>
          <td class="paramname"><em>TbH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,dimension(n),intent(out)&#160;</td>
          <td class="paramname"><em>mhu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,dimension(l),intent(in),optional&#160;</td>
          <td class="paramname"><em>tau</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,dimension(l),intent(in),optional&#160;</td>
          <td class="paramname"><em>wetness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character,dimension(l),intent(in),optional&#160;</td>
          <td class="paramname"><em>medium</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical,intent(in),optional&#160;</td>
          <td class="paramname"><em>dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="typemod__soil_1_1soilparams.html">soilparams</a>),intent(in),optional&#160;</td>
          <td class="paramname"><em>soilp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,intent(in),optional&#160;</td>
          <td class="paramname"><em>Tbatmodown</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,dimension(n,l),intent(out),optional&#160;</td>
          <td class="paramname"><em>profileV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8,dimension(n,l),intent(out),optional&#160;</td>
          <td class="paramname"><em>profileH</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute the brightness temperatures (at H and V polarisations and for several angles) for a given frequency and layered medium. </p>
<p>The medium is characterized by the number of layers, the depth of each layer, the type of medium in each layer (Snow or bubbly Ice) and the lower interface (called soil but can also be pure ice, etc...). In the case of snow layers, the grain size, density and temperature are required parameters in every layer. Stickiness and wetness inputs are optional. In the case of bubbly ice, the bubble size, density and temperature are required and the stickiness is optional. In the future, medium of type Water will be added.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">frequency</td><td>frequency (Hz). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">l</td><td>number of layers. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of stream in the most refringent layer (see <a class="el" href="namespacemod__disort.html">mod_disort</a> for details). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">depth</td><td>depth/thickness (in meter) of each layer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">density</td><td>(kg/m3) of Snow or Ice in each layer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">radius</td><td>(m) of snow grains or air bubbles in each layer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">temperature</td><td>temperature (K) in each layer.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">TbV</td><td>outgoing V-polarized brightness temperature (K) for every emerging streams. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">TbH</td><td>outgoing H-polarized brightness temperature (K) for every emerging streams. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mhu</td><td>cosine angles in the air of the emerging streams.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tau</td><td>stickiness factor in each layer. If not present, none-sticky calculation (tau=infinity). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">wetness</td><td>fractional volume of water with respect to volume of ice. Default is 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">medium</td><td>type of medium in each layer (valid value is S=Snow or I=ice with air bubbles). Default is Snow.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dist</td><td>if True a poly-disperse distribution of particule size is considered. Radius is taken from a Rayleigh distribution. The radius parameter in input corresponds to the optical radius (equivalent S/V grain size). If False a mono-disperse distribution is used, this is the default. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">soilp</td><td>description of the soil. See <a class="el" href="namespacemod__soil.html">mod_soil</a> for details. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Tbatmodown</td><td>atmosphere downwelling brightness temperature (assumed isotropic and unpolarized). Can be used to compute snow emissivity (see <a class="el" href="namespacemod__disort.html">mod_disort</a> for details). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">profileV</td><td>if present and allocated, the computed profile of upwelling V-polarized Tb at the top of each layer (before being transmitted). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">profileH</td><td>if present and allocated, the computed profile of upwelling H-polarized Tb at the top of each layer (before being transmitted).</td></tr>
  </table>
  </dd>
</dl>
<p>This subroutine calculates for each layer the DMRT parameters (exctinction and single scattering albedo) using one of the subroutines in the <a class="el" href="namespacemod__dmrtparameters.html">mod_dmrtparameters</a> module and then solves the radiative transfer equation with the DMRT parameters of each layer, the soil boundary conditions (if present) and the downwelling atmospheric contribution (if present) using the disort subroutine in the <a class="el" href="namespacemod__disort.html">mod_disort</a> module. It is recommanded to read the documentation of both modules to understand the details. See also <a class="el" href="namespacemod__soil.html">mod_soil</a> for describing the soil (or for modeling any kind of interfaces lying below the layers).</p>
<p>The subroutine returns the brightness temperature at H and V polarization and at several angles given by acos(mhu). It is not possible to choose these angles in input because they are automatically determined in disortml to optimize the solution (i.e. they result from a gaussian quadrature in the most refringent layer and refraction in other layers (see <a class="el" href="namespacemod__disort.html">mod_disort</a> for details). To compute the brightness temperature at a particular angle, it is recommand to use interpolation and/or increase the number of stream to refine the quadrature. Fortran users have to implement their own interpolation method. Python users can use the dmrtml.py module that implements linear interpolation. </p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacemod__dmrtml.html">mod_dmrtml</a>      </li>
      <li class="footer">Generated on Wed Apr 11 2012 21:54:52 for DMRTML by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
